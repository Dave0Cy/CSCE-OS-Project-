#include <iostream>
#include <unistd.h>
#include <sys/types.h>
#include <unistd.h>
#include <sys/wait.h>

using namespace std;

void CreateProcess() {
        pid_t pid;
        pid = fork();
        if (pid < 0){
            cout << "Failed\n";
            exit(0);
        }else if (pid == 0){
            cout <<"child working\n";
            execlp("/bin/ls","ls",NULL);
        } else {
            wait(NULL);
            cout<<"Childed Terminated\n";
        }
    }
    
void TerminateProcess() {
        pid_t pid;
    if (pid < 0){
        cout << "\nEnding Child \n";
        abort();
    }else 
    cout<<"No Child to Terminate\n";
}

    

void menu (){//menu
    
    int option;
    
    cout<<"--Main Menu--\n[1]Create Process\n[2]Terminate Process\n[3]Quit\n";
    cin >> option;
    
    if(option == 1){
        CreateProcess();
    } else if (option == 2){
        TerminateProcess();
    }else if (option == 3){
        cout << "Have a nice day.\n";
        exit(0);
    }else {
        cout << "Please pick between 1,2,3.\n";
        menu();
    }
}    
int main(){
    menu();
}
